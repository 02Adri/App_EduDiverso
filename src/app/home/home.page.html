<ion-header [translucent]="true">
  <ion-toolbar class="header-toolbar" [ngClass]="currentTheme">
    <!-- Bot√≥n men√∫ -->
    <ion-buttons slot="start">
      <ion-menu-button auto-hide="false"></ion-menu-button>
    </ion-buttons>

    <!-- Logo + texto -->
    <div class="header-content">
      <img src="assets/figuras/NovaVida-removebg-preview.png" alt="Nova VIDA Logo" class="logo" />
      <div class="app-text">
        <h1 class="app-name">
          Nova VIDA
          <ion-icon [name]="themeIcon" class="theme-icon"></ion-icon>
        </h1>
        <p class="app-slogan">Educaci√≥n, Seguridad y Respeto</p>
      </div>
    </div>

    <!-- Botones lado derecho -->
    <ion-buttons slot="end">
      <ion-button (click)="openThemeSelector()">
        <ion-icon name="color-palette-outline"></ion-icon>
      </ion-button>
       <ion-button (click)="toggleEffectMenu()">üå¶Ô∏è</ion-button>
      <ion-button (click)="verEstadisticas()">
        <ion-icon slot="start" name="stats-chart-outline"></ion-icon>
        Estad√≠sticas
      </ion-button>
      <ion-icon name="sparkles-outline" class="animated-icon"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="home" [ngClass]="scene">
  <ion-router-outlet></ion-router-outlet>
   <!-- üåßÔ∏è ‚ùÑÔ∏è ‚ú® Efectos ambientales -->
  <div *ngIf="effect === 'rain'" class="rain"></div>
  <div *ngIf="effect === 'snow'" class="snow"></div>
  <div *ngIf="effect === 'stars'" class="stars"></div>
  <div class="intro-section">
    <h1>Seguridad Ambiental: Acci√≥n contra el Cambio Clim√°tico</h1>
    <p>
      El cambio clim√°tico es uno de los mayores desaf√≠os de nuestro tiempo. En cumplimiento con el ODS 13,
      <strong>tomamos acciones concretas</strong> para proteger nuestro planeta, reducir emisiones y promover un futuro sostenible.
    </p>
    <p class="highlight">
      ¬øSab√≠as que limitar el aumento de la temperatura global a 1.5¬∞C puede salvar millones de vidas?
      ¬°√önete a nosotros en esta misi√≥n!
    </p>
    <ion-button color="success" class="pulse-btn" (click)="openModal()">Conoce m√°s</ion-button>
  </div>

  <div class="statistics">
    <div class="stat-item">
      <div class="number">{{treesPlanted | number}}</div>
      <div class="label">√Årboles Plantados</div>
    </div>
    <div class="stat-item">
      <div class="number">{{emissionReduced | number:'1.0-0'}}</div>
      <div class="label">Toneladas CO‚ÇÇ Evitadas</div>
    </div>
    <div class="stat-item">
      <div class="number">{{energySaved | number:'1.0-0'}}</div>
      <div class="label">MWh de Energ√≠a Ahorrada</div>
    </div>
  </div>

  <div class="svg-wrapper">
    <svg viewBox="0 0 400 300" preserveAspectRatio="xMidYMid meet" [attr.class]="scene">
      <defs>
        <linearGradient id="skyDay" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#a3d9ff" />
          <stop offset="100%" stop-color="#87ceeb" />
        </linearGradient>
        <linearGradient id="skyEvening" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#f6d365" />
          <stop offset="100%" stop-color="#fda085" />
        </linearGradient>
        <linearGradient id="skyNight" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#2c3e50" />
          <stop offset="100%" stop-color="#000814" />
        </linearGradient>
      </defs>

      <rect class="sky" width="400" height="300" [attr.fill]="skyGradient" />

      <circle
        class="sun-moon"
        r="30"
        [attr.cx]="sunMoonPosX"
        [attr.cy]="sunMoonPosY"
        [attr.fill]="sunMoonColor"
        [@sunMoonAnimation]="scene"
      />

      <rect y="250" width="400" height="50" fill="#6bbf59" />
      <rect x="80" y="180" width="10" height="70" fill="#8B4513" />
      <circle cx="85" cy="170" r="20" fill="#2e8b57" />
      <rect x="190" y="200" width="10" height="50" fill="#8B4513" />
      <circle cx="195" cy="190" r="18" fill="#3b9e5f" />
      <rect x="300" y="180" width="10" height="70" fill="#8B4513" />
      <circle cx="305" cy="170" r="22" fill="#4CAF50" />

      <circle cx="50" cy="270" r="4" fill="red" />
      <circle cx="58" cy="270" r="4" fill="orange" />
      <circle cx="54" cy="265" r="4" fill="yellow" />
    </svg>
  </div>

  <!-- Modal para info ampliada -->
  <ion-modal [isOpen]="showModal" (didDismiss)="closeModal()" backdropDismiss="true">
    <ng-template>
      <ion-header>
        <ion-toolbar color="success">
          <ion-title>M√°s sobre ODS 13: Acci√≥n contra el Cambio Clim√°tico</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeModal()">Cerrar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="modal-content">
        <p>
          La acci√≥n clim√°tica requiere de esfuerzos urgentes para combatir el cambio clim√°tico y sus efectos.
          Esto incluye mejorar la educaci√≥n ambiental, promover energ√≠as limpias, conservar ecosistemas y reducir emisiones de gases de efecto invernadero.
        </p>
        <ul>
          <li>Incrementar la eficiencia energ√©tica.</li>
          <li>Impulsar energ√≠as renovables.</li>
          <li>Promover pol√≠ticas p√∫blicas para un desarrollo sostenible.</li>
          <li>Fomentar la reforestaci√≥n y conservaci√≥n de √°reas naturales.</li>
        </ul>
        <p>
          <strong>¬°Cada acci√≥n cuenta!</strong> Nuestro compromiso es construir un planeta m√°s sano para las generaciones futuras.
        </p>
      </ion-content>
    </ng-template>
  </ion-modal>

  <ng-container *ngIf="currentTheme === 'genero'">
  <div class="cards-container">

    <!-- Tarjeta: Secreto -->
    <div class="card-flip">
      <div class="card-front">
        <ion-icon name="lock-closed-outline"></ion-icon>
        <h3>Secreto</h3>
      </div>
      <div class="card-back">
        <p>
          Las personas que cometen abusos sexuales suelen amenazar a sus v√≠ctimas
          y pedirles que guarden el secreto. Es vital hablar con alguien de confianza.
        </p>
      </div>
    </div>

    <!-- Tarjeta: Romper el silencio -->
    <div class="card-flip">
      <div class="card-front">
        <ion-icon name="megaphone-outline"></ion-icon>
        <h3>Romper el silencio</h3>
      </div>
      <div class="card-back">
        <p>
          Hablar es valent√≠a üíú. Cuando ni√±as, ni√±os o adolescentes cuentan,
          debemos escuchar, creer y nunca culpar.
        </p>
      </div>
    </div>

    <!-- Tarjeta: No -->
    <div class="card-flip">
      <div class="card-front">
        <ion-icon name="hand-left-outline"></ion-icon>
        <h3>NO</h3>
      </div>
      <div class="card-back">
        <p>
          Tenemos derecho a decir NO a caricias, abrazos o comentarios que no nos gustan.
        </p>
      </div>
    </div>

    <!-- Tarjeta: Protecci√≥n -->
    <div class="card-flip">
      <div class="card-front">
        <ion-icon name="shield-checkmark-outline"></ion-icon>
        <h3>Protecci√≥n</h3>
      </div>
      <div class="card-back">
        <p>
          Creer, escuchar y respetar protege. Nunca es culpa de la v√≠ctima.
        </p>
      </div>
    </div>

  </div>
</ng-container>

</ion-content>
